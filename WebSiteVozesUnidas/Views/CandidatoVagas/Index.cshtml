@model IEnumerable<WebSiteVozesUnidas.Models.VagaEmprego>

@{
    ViewData["Title"] = "Index";
}

<div class="d-flex flex-column">

    <div class="">

        <h1 class="text-center">Olá @User.Identity.Name</h1>

        <h3 class="fw-light text-center">Escolha uma vaga para ver interessados nelas</h3>
    </div>

    <div class="d-flex flex-wrap row g-3">
        
        @foreach (var item in Model)
        {
            <div class="col-12 col-md-6 col-lg-6">
                <a class="fundo-escurecer text-decoration-none text-black shadow p-3 d-block" style="background-color:white" asp-action="VagasCandidatos" asp-controller="VagaEmpregos" asp-route-id="@item.IdVagaEmprego">

                    <div class="d-flex flex-column">
                        <h2 class="text-primary texto-underline-decoration">@item.Cargo</h2>
                        <p class="mb-0 fs-6 text-secondary fw-bold">Empresa:</p>
                        <h4>@item.Usuario.UserName</h4>
                        <div>
                            <p class="mb-0 fs-6 text-secondary fw-bold">Sálário:</p>
                            <p class="fs-4">R$@item.Salario</p>
                            <p class="mb-0"><span class="fw-bold">@item.NumeroVagas Vagas: </span> @item.Cidade - @item.Estado</p>
                            <p>Publicada em: @item.Publicacao.ToString("dd/MM/yyyy")</p>
                        </div>
                        <div>
                            <p class="mb-0 fs-6 text-secondary fw-bold">Descrição:</p>
                            <p>
                                @(item.DescricaoVaga.Length > 250 ? item.DescricaoVaga.Substring(0, 250) + "..." : item.DescricaoVaga)
                            </p>
                        </div>
                        <div class="col-12">
                            <button class="btn btn-outline-danger col-12 px-5">Se candidatar</button>
                        </div>
                    </div>

                </a>
            </div>
        }
        @if (Model.Count() == 0)
        {
            <div class="card col-12 p-3 border text-black text-decoration-none my-5">

                <div class="d-flex justify-content-center">


                    <div class="card-body col-12 p-0 ms-3 d-flex flex-column justify-content-center">

                        <h3 class="card-title text-center text-uppercase fw-light">Sem cadastro de vagas, volte mais tarde!</h3>


                    </div>
                </div>

            </div>
        }

    </div>

</div>